<div class="p-6">
  <div class="flex justify-between items-center mb-4">
    <input [(ngModel)]="searchTerm"
           (input)="searchScopes()"
           placeholder="Search scopes..."
           class="border rounded px-4 py-2 w-1/3" />

    <button (click)="openModal()"
            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">
      + New Scope
    </button>
  </div>

  <!-- Tabla de scopes -->
  <table class="w-full bg-white rounded shadow">
    <thead class="bg-gray-100">
    <tr>
      <th class="text-left px-4 py-2">Name</th>
      <th class="text-left px-4 py-2">Description</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let scope of scopes">
      <td class="border-t px-4 py-2">{{ scope.name }}</td>
      <td class="border-t px-4 py-2">{{ scope.description }}</td>
    </tr>
    </tbody>
  </table>
</div>

<!-- Modal para crear nuevo scope -->
<div *ngIf="showModal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">
  <div class="bg-white p-6 rounded w-96">
    <h2 class="text-xl font-semibold mb-4">Create New Scope</h2>
    <form (ngSubmit)="createScope()" #scopeForm="ngForm">
      <input [(ngModel)]="newScope.name" name="name" placeholder="Name" required class="border w-full px-3 py-2 mb-3" />
      <input [(ngModel)]="newScope.description" name="description" placeholder="Description" required class="border w-full px-3 py-2 mb-3" />
      <div class="flex justify-end space-x-2">
        <button type="button" (click)="closeModal()" class="px-4 py-2 bg-gray-300 rounded">Cancel</button>
        <button type="submit" [disabled]="scopeForm.invalid" class="px-4 py-2 bg-blue-600 text-white rounded">Create</button>
      </div>
    </form>
  </div>
</div>
